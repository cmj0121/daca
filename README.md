# daca (打卡) #

The daca `打卡` is the go-lang based web server.

## Roadmap ##
- High performance
- Easy used, lower learn curve
- High throughput


## Example ##
```go
package main

import (
	"github.com/cmj0121/daca"
)

func main() {
	/* HTTP server */
	srv := daca.DefaultServer()
	srv.Run(":9999")
}
```

## Code Flow ##
When request coming from client, daca will receive it from *http.ListenAndServe*, process it by *ServeHTTP*
and response via *Context.Do*. These process all the incoming requests and response by customized *Endpoint*.


In the *Endpoint* it will process the incomping request which defines
- The URL need to be processed and the related regular expression pattern.
- The HTTP methods used
- The *Handler* used to process the request

And more, the **named_args** and **named_maps** is the local stoage and be used to process the parameter
in URL.


The request first be process by the *daca.serve* which decided the match URL pattern with correct HTTP method.
The HTTP method is case-insensitive and always be process as the upper case. The routine *daca.serve* will
list all relatived endpoints for the specified method and then find the matched URL with the incoming request.
More specified, the URL pattern in *Endpoint* is generated by **daca.MakeEndpoint** and it need to be exactly
match by default.


In the next stage, the *daca.Context* will save the endpoint and execute *Endpoint.handler*. The handler
is a function pointer with only a parameter *daca.Context*. The handler is the main logical used to process
the incomping request and prepare the response to client. Using the routines of the *daca.Context* the
handler can set the response or set the specified error code.


The final stage is call **daca.Context.Do** to send the response to client and the wait the next request.
The context will generate the related response via 1) status code and 2) payload. And more, you can
add extra header via **Context.Header**.

